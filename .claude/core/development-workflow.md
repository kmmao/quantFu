# 开发流程规范

> ⚠️ **待补充文件** - 本文件是占位文件,请根据项目需求补充完整内容

## 🚧 使用前必读

本文件是 **sfcommon 通用规范框架** 的一部分,但尚未完全编写。

**在开始项目开发前,你需要:**

1. 定义项目的开发流程 (瀑布/敏捷/看板)
2. 制定迭代周期和发布节奏
3. 配置开发环境和工具链

---

## 📋 必须补充的内容

### 1. 开发方法论

请选择并配置项目的开发方法:

```markdown
## 开发方法论

- **方法**: [Scrum / Kanban / 瀑布 / 精益 / XP]
- **迭代周期**: [1周 / 2周 / 1个月]
- **站会频率**: [每日 / 每周 / 不需要]
- **代码审查**: [必须 / 可选 / 不需要]
```

### 2. 环境配置

定义项目的环境:

```markdown
## 环境

| 环境 | 用途 | 部署方式 | URL |
|------|------|---------|-----|
| Development | 本地开发 | [填写] | localhost |
| Staging | 预发布测试 | [填写] | [填写] |
| Production | 正式环境 | [填写] | [填写] |
```

### 3. 发布流程

定义版本发布的流程:

```markdown
## 发布流程

### 发布前检查清单
- [ ] [填写检查项]
- [ ] [填写检查项]

### 发布步骤
1. [填写步骤]
2. [填写步骤]

### 回滚计划
[填写回滚策略]
```

---

## 📚 通用开发流程 (已提供)

以下是**项目无关**的通用开发流程:

### 需求 → 部署完整流程

```
1. 需求分析
   ├─ 理解业务需求
   ├─ 识别功能范围
   └─ 评估技术可行性
   ↓
2. 设计方案
   ├─ 架构设计
   ├─ 接口设计
   └─ 数据模型设计
   ↓
3. 代码实现
   ├─ 遵循代码规范
   ├─ 编写测试
   └─ 代码审查
   ↓
4. 测试验证
   ├─ 单元测试
   ├─ 集成测试
   └─ E2E 测试
   ↓
5. 文档更新
   ├─ 更新 guide.md
   ├─ 更新 API 文档
   └─ 更新 CHANGELOG
   ↓
6. 部署发布
   ├─ 部署到 Staging
   ├─ 验证功能
   └─ 部署到 Production
```

### 质量关卡

每个阶段必须通过的检查:

#### 代码实现阶段
- [ ] 代码符合规范 (Linter 通过)
- [ ] 类型检查通过
- [ ] 没有明显的安全漏洞
- [ ] 代码已审查 (如适用)

#### 测试阶段
- [ ] 所有单元测试通过
- [ ] 集成测试通过
- [ ] 测试覆盖率达标
- [ ] E2E 测试通过 (如适用)

#### 部署阶段
- [ ] 环境变量已配置
- [ ] 数据库迁移已执行
- [ ] 健康检查通过
- [ ] 监控和日志已配置

---

## 🔄 持续集成/持续部署 (CI/CD)

### CI 流程 (自动化)

```
代码提交
  ↓
安装依赖
  ↓
Lint 检查
  ↓
类型检查
  ↓
运行测试
  ↓
生成覆盖率报告
  ↓
构建应用
  ↓
[通过] → 允许合并
[失败] → 阻止合并
```

### CD 流程 (自动化)

```
合并到主分支
  ↓
运行 CI
  ↓
构建生产版本
  ↓
部署到 Staging
  ↓
自动化测试
  ↓
[通过] → 部署到 Production
[失败] → 停止,回滚
```

---

## 📋 日常工作流程

### 开发新功能

1. **创建分支**
   ```bash
   git checkout -b feature/user-authentication
   ```

2. **编写代码**
   - 遵循代码规范
   - 编写单元测试
   - 更新文档

3. **本地测试**
   ```bash
   npm test
   npm run type-check
   npm run lint
   ```

4. **提交代码**
   ```bash
   git add .
   git commit -m "feat: add user authentication"
   ```

5. **推送并创建 PR**
   ```bash
   git push origin feature/user-authentication
   # 在 GitHub/GitLab 创建 Pull Request
   ```

6. **代码审查**
   - 等待团队成员审查
   - 根据反馈修改

7. **合并代码**
   - PR 批准后合并到主分支
   - 删除 feature 分支

8. **部署**
   - CI/CD 自动部署
   - 验证功能正常

### 修复 Bug

1. **创建分支**
   ```bash
   git checkout -b fix/login-error
   ```

2. **复现问题**
   - 编写失败的测试用例

3. **修复代码**
   - 修复 bug
   - 确保测试通过

4. **提交并部署**
   - 遵循上述流程

---

## ✅ 完成检查清单

在开始项目开发前,请确认:

- [ ] 已定义开发方法论
- [ ] 已配置开发/预发布/生产环境
- [ ] 已制定发布流程和回滚计划
- [ ] 已配置 CI/CD 流程
- [ ] 已培训团队成员了解流程

---

## 📝 示例配置

### 示例: Scrum 敏捷开发

```markdown
## 开发方法论
- 方法: Scrum
- 迭代周期: 2周
- 站会: 每日 9:30 AM
- 代码审查: 必须 (至少 1 人)

## 环境
| 环境 | 用途 | 部署方式 | URL |
|------|------|---------|-----|
| Development | 本地开发 | 本地运行 | localhost:3000 |
| Staging | 预发布 | Vercel Preview | staging.example.com |
| Production | 正式 | Vercel Production | example.com |

## 发布流程

### Sprint 结束发布
1. Sprint Review (演示新功能)
2. 合并所有 feature 分支到 dev
3. 部署 dev 到 Staging
4. QA 测试 (1-2天)
5. 通过后合并 dev → main
6. 自动部署到 Production
7. 监控 1 小时,确认稳定
```

---

**⚠️ 重要**: 删除本提示部分,替换为项目实际的开发流程!

## 📝 快速开始提示

向 AI 助手提问:

```
请帮我为 [项目名称] 补充 development-workflow.md 文件。

项目信息:
- 团队规模: [个人/小团队/大团队]
- 开发方法: [Scrum/Kanban/etc.]
- 技术栈: [填写]
- 部署平台: [Vercel/AWS/自托管/etc.]

请根据最佳实践,提供完整的开发流程规范。
```
