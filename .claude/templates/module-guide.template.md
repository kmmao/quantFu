# [æ¨¡å—åç§°] æ¨¡å—æŒ‡å—

> ä¸€å¥è¯æè¿°æœ¬æ¨¡å—çš„èŒè´£å’Œç”¨é€”

## ğŸ“Œ æ¨¡å—èŒè´£

æ¸…æ™°æè¿°æœ¬æ¨¡å—è´Ÿè´£ä»€ä¹ˆ,ä¸è´Ÿè´£ä»€ä¹ˆã€‚

**èŒè´£èŒƒå›´ï¼š**
- èŒè´£1: æè¿°
- èŒè´£2: æè¿°

**ä¸åœ¨èŒƒå›´ï¼š**
- éèŒè´£1: ä¸ºä»€ä¹ˆä¸åœ¨èŒƒå›´
- éèŒè´£2: ä¸ºä»€ä¹ˆä¸åœ¨èŒƒå›´

---

## ğŸ“ æ–‡ä»¶ç»“æ„

```
æ¨¡å—/
â”œâ”€â”€ file1.ts          # æ–‡ä»¶1çš„è¯´æ˜
â”œâ”€â”€ file2.ts          # æ–‡ä»¶2çš„è¯´æ˜
â””â”€â”€ subfolder/
    â”œâ”€â”€ file3.ts      # æ–‡ä»¶3çš„è¯´æ˜
    â””â”€â”€ index.ts      # å¯¼å‡ºæ–‡ä»¶
```

### æ–‡ä»¶è¯´æ˜

- **file1.ts**: åŠŸèƒ½æè¿°,ä½•æ—¶ä½¿ç”¨
- **file2.ts**: åŠŸèƒ½æè¿°,ä½•æ—¶ä½¿ç”¨
- **subfolder/**: å­æ¨¡å—è¯´æ˜

---

## âš™ï¸ ä¸»è¦åŠŸèƒ½

### åŠŸèƒ½1: åŠŸèƒ½åç§°

**ç”¨é€”**: æ¸…æ™°æè¿°è¿™ä¸ªåŠŸèƒ½è§£å†³ä»€ä¹ˆé—®é¢˜

**ç­¾å**:
```typescript
function functionName(param1: Type1, param2: Type2): ReturnType
```

**å‚æ•°**:
- `param1` (Type1): å‚æ•°1çš„è¯´æ˜
- `param2` (Type2): å‚æ•°2çš„è¯´æ˜,å¯é€‰

**è¿”å›å€¼**: ReturnType - è¿”å›å€¼è¯´æ˜

**ç¤ºä¾‹**:
```typescript
// åŸºç¡€ç”¨æ³•
const result = functionName('value1', 'value2')

// é«˜çº§ç”¨æ³•
const advanced = functionName(complexParam, options)
```

**é”™è¯¯å¤„ç†**:
- `Error1`: ä½•æ—¶æŠ›å‡º,å¦‚ä½•å¤„ç†
- `Error2`: ä½•æ—¶æŠ›å‡º,å¦‚ä½•å¤„ç†

---

### åŠŸèƒ½2: å¦ä¸€ä¸ªåŠŸèƒ½

[åŒä¸Šæ ¼å¼]

---

## ğŸ”— ä¾èµ–å…³ç³»

### æœ¬æ¨¡å—ä¾èµ–

| æ¨¡å— | ç”¨é€” | ç‰ˆæœ¬è¦æ±‚ |
|------|------|---------|
| `@/lib/utils` | å·¥å…·å‡½æ•° | - |
| `react` | UI æ¸²æŸ“ | 18+ |

### è¢«ä»¥ä¸‹æ¨¡å—ä¾èµ–

| æ¨¡å— | ä½¿ç”¨æ–¹å¼ |
|------|---------|
| `@/app/page.tsx` | åœ¨é¦–é¡µä½¿ç”¨åŠŸèƒ½1 |
| `@/components/Header` | åœ¨å¤´éƒ¨ä½¿ç”¨åŠŸèƒ½2 |

### ä¾èµ–å›¾

```
[æœ¬æ¨¡å—]
   â†“
ä½¿ç”¨ @/lib/utils
ä½¿ç”¨ react
   â†‘
è¢« @/app/page.tsx ä½¿ç”¨
è¢« @/components/Header ä½¿ç”¨
```

---

## ğŸ¯ ä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€ä½¿ç”¨

```typescript
// 1. å¯¼å…¥
import { functionName } from '@/module/path'

// 2. ä½¿ç”¨
const result = functionName(params)

// 3. å¤„ç†ç»“æœ
console.log(result)
```

### é«˜çº§åœºæ™¯

```typescript
// åœºæ™¯1: ç»“åˆå…¶ä»–æ¨¡å—ä½¿ç”¨
import { functionName } from '@/module/path'
import { helperFunction } from '@/lib/utils'

const processed = helperFunction(functionName(params))

// åœºæ™¯2: é”™è¯¯å¤„ç†
try {
  const result = functionName(params)
} catch (error) {
  if (error instanceof SpecificError) {
    // ç‰¹å®šé”™è¯¯å¤„ç†
  }
}
```

### React ç»„ä»¶ä¸­ä½¿ç”¨

```typescript
'use client'

import { functionName } from '@/module/path'

export function MyComponent() {
  const handleClick = () => {
    const result = functionName(params)
    // ä½¿ç”¨result
  }

  return <button onClick={handleClick}>Click</button>
}
```

---

## ğŸ“ å˜æ›´æ—¥å¿—

| æ—¥æœŸ | å˜æ›´ç±»å‹ | æè¿° | è´Ÿè´£äºº |
|------|---------|------|--------|
| 2025-01-17 | æ–°å¢ | åˆå§‹åˆ›å»º,åŒ…å«åŠŸèƒ½1å’ŒåŠŸèƒ½2 | AI |
| 2025-01-18 | ä¿®æ”¹ | åŠŸèƒ½1 æ”¯æŒæ–°å‚æ•° options | AI |
| 2025-01-19 | ä¼˜åŒ– | é‡æ„åŠŸèƒ½2,æ€§èƒ½æå‡50% | AI |
| 2025-01-20 | ä¿®å¤ | ä¿®å¤åŠŸèƒ½1åœ¨è¾¹ç•Œæƒ…å†µçš„bug | AI |

---

## ğŸ¯ æœ€ä½³å®è·µ

### âœ… æ¨èåšæ³•

1. **å®è·µ1**: æè¿°ä¸ºä»€ä¹ˆæ¨è
   ```typescript
   // å¥½çš„ç¤ºä¾‹
   const good = functionName(params)
   ```

2. **å®è·µ2**: æè¿°ä¸ºä»€ä¹ˆæ¨è
   ```typescript
   // å¥½çš„ç¤ºä¾‹
   ```

### âŒ é¿å…åšæ³•

1. **åæ¨¡å¼1**: æè¿°ä¸ºä»€ä¹ˆä¸æ¨è
   ```typescript
   // ä¸å¥½çš„ç¤ºä¾‹
   const bad = functionName()  // ç¼ºå°‘å¿…è¦å‚æ•°
   ```

2. **åæ¨¡å¼2**: æè¿°ä¸ºä»€ä¹ˆä¸æ¨è

---

## âš ï¸ æ³¨æ„äº‹é¡¹

- **æ€§èƒ½æ³¨æ„**: åŠŸèƒ½1åœ¨å¤§æ•°æ®é‡æ—¶å¯èƒ½è¾ƒæ…¢,å»ºè®®ä½¿ç”¨åˆ†é¡µ
- **å®‰å…¨æ³¨æ„**: åŠŸèƒ½2æ¶‰åŠç”¨æˆ·è¾“å…¥,å¿…é¡»å…ˆéªŒè¯
- **å…¼å®¹æ€§æ³¨æ„**: åŠŸèƒ½3ä»…åœ¨æµè§ˆå™¨ç¯å¢ƒå¯ç”¨,æœåŠ¡ç«¯ä¸æ”¯æŒ
- **å¹¶å‘æ³¨æ„**: åŠŸèƒ½4éçº¿ç¨‹å®‰å…¨,éœ€è¦åŠ é”

---

## ğŸ› å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆåŠŸèƒ½1è¿”å› undefined?
A: é€šå¸¸æ˜¯å› ä¸ºå‚æ•°æ ¼å¼ä¸æ­£ç¡®ã€‚ç¡®ä¿å‚æ•°ç¬¦åˆç±»å‹å®šä¹‰:
```typescript
// é”™è¯¯
functionName(undefined)

// æ­£ç¡®
functionName('valid-value')
```

### Q: å¦‚ä½•åœ¨æœåŠ¡ç«¯ç»„ä»¶ä¸­ä½¿ç”¨?
A: åŠŸèƒ½1-3å¯ä»¥åœ¨æœåŠ¡ç«¯ä½¿ç”¨,ä½†åŠŸèƒ½4ä»…é™å®¢æˆ·ç«¯:
```typescript
// app/page.tsx (æœåŠ¡ç«¯ç»„ä»¶)
async function ServerComponent() {
  const result = await functionName(params)  // âœ… OK
}

// components/client.tsx (å®¢æˆ·ç«¯ç»„ä»¶)
'use client'
function ClientComponent() {
  const result = functionName(params)  // âœ… OK
}
```

### Q: æ€§èƒ½ä¼˜åŒ–å»ºè®®?
A:
1. ä½¿ç”¨ç¼“å­˜: `useMemo` æˆ– `React.cache`
2. æ‰¹é‡å¤„ç†è€Œéé€ä¸ªè°ƒç”¨
3. å¤§æ•°æ®é‡ä½¿ç”¨åˆ†é¡µ

---

## ğŸ§ª æµ‹è¯•

### æµ‹è¯•è¦†ç›–

- **å•å…ƒæµ‹è¯•**: `module.test.ts` - 100%è¦†ç›–
- **é›†æˆæµ‹è¯•**: `module.integration.test.ts` - æ ¸å¿ƒæµç¨‹
- **E2Eæµ‹è¯•**: ç›¸å…³é¡µé¢çš„E2Eæµ‹è¯•

### è¿è¡Œæµ‹è¯•

```bash
# å•å…ƒæµ‹è¯•
pnpm test module.test.ts

# é›†æˆæµ‹è¯•
pnpm test:integration module

# è¦†ç›–ç‡æŠ¥å‘Š
pnpm test:coverage
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [ä¸»è§„èŒƒ](.claude/CLAUDE.md)
- [æ¶æ„è®¾è®¡](.claude/architecture.md)
- [ç›¸å…³æ¨¡å—A](../module-a/.claude/guide.md)
- [ç›¸å…³æ¨¡å—B](../module-b/.claude/guide.md)

---

## ğŸ”® æœªæ¥è®¡åˆ’

- [ ] **v2.0**: è®¡åˆ’æ·»åŠ çš„æ–°åŠŸèƒ½1
- [ ] **ä¼˜åŒ–**: è®¡åˆ’çš„æ€§èƒ½ä¼˜åŒ–
- [ ] **é‡æ„**: è®¡åˆ’çš„ä»£ç é‡æ„

---

**ğŸ“Œ æœ€åæ›´æ–°**: 2025-01-17
**ç»´æŠ¤è€…**: AI
**çŠ¶æ€**: âœ… ç”Ÿäº§å¯ç”¨

---

## ğŸ“ é™„å½•

### ç±»å‹å®šä¹‰

```typescript
// å®Œæ•´çš„ç±»å‹å®šä¹‰
interface Config {
  option1: string
  option2?: number
}

type Result = {
  success: boolean
  data?: any
  error?: string
}
```

### å¸¸é‡

```typescript
// æ¨¡å—ä½¿ç”¨çš„å¸¸é‡
export const DEFAULT_TIMEOUT = 5000
export const MAX_RETRIES = 3
```

---

**ä½¿ç”¨è¿™ä¸ªæ¨¡æ¿æ—¶,è¯·ï¼š**
1. æ›¿æ¢æ‰€æœ‰ [æ¨¡å—åç§°] ä¸ºå®é™…æ¨¡å—å
2. åˆ é™¤ä¸é€‚ç”¨çš„ç« èŠ‚
3. æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´å†…å®¹
4. ä¿æŒæ ¼å¼ä¸€è‡´æ€§
