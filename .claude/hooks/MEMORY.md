# Memory MCP ä½¿ç”¨æŒ‡å—

> è½»é‡çº§é¡¹ç›®è®°å¿†ç³»ç»Ÿ - è·¨è®¾å¤‡ã€è·¨ä¼šè¯çš„ä¸Šä¸‹æ–‡æŒä¹…åŒ–

---

## ğŸ¯ ä»€ä¹ˆæ—¶å€™ç”¨ Memory?

### é€‚åˆè®°å½•çš„å†…å®¹
- âœ… **æŠ€æœ¯å†³ç­–**: "ä¸ºä»€ä¹ˆé€‰æ‹© X è€Œä¸æ˜¯ Y"
- âœ… **è¸©å‘ç»éªŒ**: é‡åˆ°çš„é—®é¢˜ + è§£å†³æ–¹æ¡ˆ
- âœ… **é‡è¦è§„åˆ™**: ç”¨æˆ·æ˜ç¡®è¦æ±‚çš„è§„åˆ™
- âœ… **åŠŸèƒ½é‡Œç¨‹ç¢‘**: å®Œæˆçš„æ ¸å¿ƒåŠŸèƒ½

### ä¸éœ€è¦è®°å½•çš„å†…å®¹
- âŒ æ¯ä¸ªå°æ”¹åŠ¨
- âŒ æ—¥å¸¸çš„ bug ä¿®å¤
- âŒ ä¸´æ—¶çš„æµ‹è¯•ä»£ç 

---

## ğŸ“ åŸºæœ¬ç”¨æ³•

### 1. è¯»å–è®°å¿† (ä¼šè¯å¯åŠ¨æ—¶è‡ªåŠ¨)

```javascript
// æŸ¥çœ‹æ‰€æœ‰è®°å¿†
mcp__memory__read_graph()

// æœç´¢ç‰¹å®šå†…å®¹
mcp__memory__search_nodes({ query: "æ¢æœˆæé†’" })
```

---

### 2. åˆ›å»ºè®°å¿†

#### è®°å½•æŠ€æœ¯å†³ç­–
```javascript
mcp__memory__create_entities({
  "entities": [{
    "name": "å†³ç­–-ä½¿ç”¨FastAPIè€ŒéFlask",
    "entityType": "decision",
    "observations": [
      "å†³ç­–æ—¶é—´: 2025-12-18",
      "åŸå› : FastAPI åŸç”Ÿæ”¯æŒå¼‚æ­¥,æ€§èƒ½æ›´å¥½",
      "å¯¹æ¯”æ–¹æ¡ˆ: Flask + async æ‰©å±•å¤ªå¤æ‚",
      "å½±å“èŒƒå›´: åç«¯ API å±‚"
    ]
  }]
})
```

#### è®°å½•è¸©å‘ç»éªŒ
```javascript
mcp__memory__create_entities({
  "entities": [{
    "name": "é—®é¢˜-Supabaseè¿æ¥æ± è€—å°½",
    "entityType": "problem",
    "observations": [
      "ç°è±¡: é«˜å¹¶å‘æ—¶æ•°æ®åº“è¿æ¥å¤±è´¥",
      "åŸå› : é»˜è®¤è¿æ¥æ± åªæœ‰ 10 ä¸ª",
      "è§£å†³æ–¹æ¡ˆ: å¢åŠ åˆ° 50,æ·»åŠ è¿æ¥å¤ç”¨",
      "æ–‡ä»¶: backend/database.py:15"
    ]
  }]
})
```

#### è®°å½•åŠŸèƒ½é‡Œç¨‹ç¢‘
```javascript
mcp__memory__create_entities({
  "entities": [{
    "name": "åŠŸèƒ½-æ¢æœˆæé†’",
    "entityType": "milestone",
    "observations": [
      "å®Œæˆæ—¶é—´: 2025-12-20",
      "åŠŸèƒ½: è‡ªåŠ¨æ£€æµ‹åˆçº¦åˆ°æœŸå¹¶æé†’",
      "æŠ€æœ¯è¦ç‚¹: æå‰3ä¸ªäº¤æ˜“æ—¥,è·³è¿‡éäº¤æ˜“æ—¥",
      "ç›¸å…³æ–‡ä»¶: backend/contract_monitor.py"
    ]
  }]
})
```

---

### 3. è¡¥å……å·²æœ‰è®°å¿†

```javascript
mcp__memory__add_observations({
  "observations": [{
    "entityName": "åŠŸèƒ½-æ¢æœˆæé†’",
    "contents": [
      "2025-12-22: ä¿®å¤äº†èŠ‚å‡æ—¥åˆ¤æ–­ bug",
      "2025-12-23: æ·»åŠ äº†å¾®ä¿¡æ¨é€é€šçŸ¥"
    ]
  }]
})
```

---

### 4. å»ºç«‹å…³ç³»

```javascript
mcp__memory__create_relations({
  "relations": [{
    "from": "åŠŸèƒ½-æ¢æœˆæé†’",
    "to": "é—®é¢˜-Supabaseè¿æ¥æ± è€—å°½",
    "relationType": "é‡åˆ°é—®é¢˜"
  }]
})
```

---

## ğŸ”„ å·¥ä½œæµç¨‹

```
ä¼šè¯å¯åŠ¨
  â†“
[è‡ªåŠ¨] è¯»å– Memory è®°å¿†å›¾è°±
  â†“
å¼€å‘è¿‡ç¨‹ä¸­
  â†“
é‡åˆ°é‡è¦å†³ç­–/é—®é¢˜ â†’ æ‰‹åŠ¨è®°å½•åˆ° Memory
  â†“
ä¼šè¯ç»“æŸ
  â†“
[æé†’] å¦‚æœ‰é‡è¦å†…å®¹,ä¿å­˜åˆ° Memory
```

---

## ğŸ’¡ å®ç”¨ç¤ºä¾‹

### åœºæ™¯ 1: å¤šè®¾å¤‡å¼€å‘

**åŠå…¬å®¤ (ä¼šè¯ 1)**:
```javascript
// è®°å½•å†³ç­–
mcp__memory__create_entities({
  "entities": [{
    "name": "å†³ç­–-å‰ç«¯çŠ¶æ€ç®¡ç†ç”¨Zustand",
    "entityType": "decision",
    "observations": ["æ¯” Redux ç®€å•,å¤Ÿç”¨"]
  }]
})
```

**å›å®¶å (ä¼šè¯ 2)**:
```javascript
// è‡ªåŠ¨è¯»å–,AI çŸ¥é“ä¹‹å‰çš„å†³ç­–
mcp__memory__read_graph()
// çœ‹åˆ°: "å†³ç­–-å‰ç«¯çŠ¶æ€ç®¡ç†ç”¨Zustand"
```

---

### åœºæ™¯ 2: è¸©å‘è®°å½•

```javascript
// é‡åˆ°å‘
mcp__memory__create_entities({
  "entities": [{
    "name": "å‘-Next.jsä¸­é—´ä»¶ä¸èƒ½ç”¨Nodeæ¨¡å—",
    "entityType": "problem",
    "observations": [
      "é”™è¯¯: Module not found: Can't resolve 'fs'",
      "åŸå› : ä¸­é—´ä»¶è¿è¡Œåœ¨ Edge Runtime",
      "è§£å†³: æ”¹ç”¨ API Route"
    ]
  }]
})

// å‡ å‘¨åé‡åˆ°ç±»ä¼¼é—®é¢˜,æœç´¢è®°å¿†
mcp__memory__search_nodes({ query: "ä¸­é—´ä»¶" })
// ç«‹å³æƒ³èµ·ä¹‹å‰çš„è§£å†³æ–¹æ¡ˆ
```

---

## ğŸ“‹ æ¨èçš„å®ä½“ç±»å‹

| ç±»å‹ | ç”¨é€” | ç¤ºä¾‹ |
|------|------|------|
| `decision` | æŠ€æœ¯å†³ç­– | "ä¸ºä»€ä¹ˆç”¨ FastAPI" |
| `problem` | é—®é¢˜è®°å½• | "è¿æ¥æ± è€—å°½" |
| `milestone` | åŠŸèƒ½é‡Œç¨‹ç¢‘ | "æ¢æœˆæé†’å®Œæˆ" |
| `rule` | é¡¹ç›®è§„åˆ™ | "ç­–ç•¥é›†æˆéä¾µå…¥å¼" |
| `module` | æ ¸å¿ƒæ¨¡å— | "Kçº¿æ•°æ®æ¨¡å—" |

---

## ğŸš« ä¸è¦è¿‡åº¦ä½¿ç”¨

### âŒ é”™è¯¯ç¤ºä¾‹
```javascript
// ä¸è¦è®°å½•æ¯ä¸ªå°æ”¹åŠ¨
mcp__memory__create_entities({
  "entities": [{
    "name": "ä¿®æ”¹-æŒ‰é’®é¢œè‰²æ”¹æˆè“è‰²",  // å¤ªçç¢
    "entityType": "change",
    "observations": ["æ”¹äº†æŒ‰é’®é¢œè‰²"]
  }]
})
```

### âœ… æ­£ç¡®ç¤ºä¾‹
```javascript
// åªè®°å½•å…³é”®å†³ç­–
mcp__memory__create_entities({
  "entities": [{
    "name": "å†³ç­–-UIåº“é€‰æ‹©Tailwind+shadcn",
    "entityType": "decision",
    "observations": [
      "å¯¹æ¯”æ–¹æ¡ˆ: Material-UI (å¤ªé‡), Chakra (ä¸å¤Ÿçµæ´»)",
      "é€‰æ‹©åŸå› : è½»é‡ã€å¯å®šåˆ¶ã€ç»„ä»¶è´¨é‡é«˜"
    ]
  }]
})
```

---

## ğŸ”§ Hooks é›†æˆ

### SessionStart (è‡ªåŠ¨)
- AI è‡ªåŠ¨è¯»å–è®°å¿†å›¾è°±
- äº†è§£é¡¹ç›®å†å²å’Œä¸Šä¸‹æ–‡

### SessionEnd (æé†’)
- å¦‚æœæœ¬æ¬¡ä¼šè¯æœ‰é‡è¦å†…å®¹,æé†’ä¿å­˜
- ä¸å¼ºåˆ¶,æŒ‰éœ€ä¿å­˜

---

## ğŸ“– ç›¸å…³æ–‡æ¡£

- **Memory MCP å®˜æ–¹**: https://github.com/modelcontextprotocol/servers/tree/main/src/memory
- **é¡¹ç›®è§„èŒƒ**: [../.claude/CLAUDE.md](../.claude/CLAUDE.md)

---

**æœ€åæ›´æ–°**: 2025-12-18
**çŠ¶æ€**: âœ… å·²å¯ç”¨
**å­˜å‚¨ä½ç½®**: `~/.claude/mcp_storage/memory/`
