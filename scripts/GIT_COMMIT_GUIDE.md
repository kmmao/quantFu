# Git æäº¤æŒ‡å—

## ğŸ¯ è‡ªåŠ¨æäº¤è§„èŒƒ

æ ¹æ®é¡¹ç›®è§„èŒƒï¼Œ**æ¯å®Œæˆä¸€ä¸ªåŠŸèƒ½æˆ–ä»»åŠ¡åï¼Œéƒ½åº”è¯¥è¿›è¡Œæœ¬åœ° Git æäº¤**ã€‚

---

## ğŸš€ å¿«é€Ÿä½¿ç”¨

### æ–¹å¼ä¸€ï¼šäº¤äº’å¼æäº¤ï¼ˆæ¨èï¼‰

```bash
make commit
```

è¿™ä¸ªå‘½ä»¤ä¼šå¯åŠ¨äº¤äº’å¼å‘å¯¼ï¼Œå¼•å¯¼ä½ å®Œæˆï¼š
1. æŸ¥çœ‹å½“å‰æ›´æ”¹
2. é€‰æ‹©æäº¤ç±»å‹ï¼ˆfeat/fix/docsç­‰ï¼‰
3. é€‰æ‹©å˜æ›´èŒƒå›´ï¼ˆå¯é€‰ï¼‰
4. è¾“å…¥æäº¤æè¿°
5. æ·»åŠ è¯¦ç»†è¯´æ˜ï¼ˆå¯é€‰ï¼‰
6. é¢„è§ˆå¹¶ç¡®è®¤
7. é€‰æ‹©è¦æäº¤çš„æ–‡ä»¶
8. æ‰§è¡Œæäº¤
9. å¯é€‰æ¨é€åˆ°è¿œç¨‹

### æ–¹å¼äºŒï¼šå¿«é€Ÿæäº¤

```bash
make quick-commit
```

ç®€åŒ–æµç¨‹ï¼Œé€‚åˆå¿«é€Ÿæäº¤å°æ”¹åŠ¨ï¼š
- å¿«é€Ÿé€‰æ‹©ç±»å‹
- è¾“å…¥æè¿°å³å¯æäº¤

### æ–¹å¼ä¸‰ï¼šå‘½ä»¤è¡Œå‚æ•°

```bash
# ç›´æ¥æŒ‡å®šæ‰€æœ‰å‚æ•°
./scripts/quick-commit.sh -t feat -s auth -m "æ·»åŠ ç”¨æˆ·ç™»å½•åŠŸèƒ½"

# ç­‰åŒäº
./scripts/quick-commit.sh --type feat --scope auth --message "æ·»åŠ ç”¨æˆ·ç™»å½•åŠŸèƒ½"
```

---

## ğŸ“‹ æäº¤ç±»å‹è¯´æ˜

| ç±»å‹ | ç”¨é€” | ç¤ºä¾‹ |
|------|------|------|
| **feat** | æ–°åŠŸèƒ½ | `feat(auth): æ·»åŠ  OAuth ç™»å½•` |
| **fix** | Bug ä¿®å¤ | `fix(api): ä¿®å¤ç”¨æˆ·æŸ¥è¯¢é”™è¯¯` |
| **docs** | æ–‡æ¡£æ›´æ–° | `docs(readme): æ›´æ–°å®‰è£…è¯´æ˜` |
| **style** | ä»£ç æ ¼å¼ | `style: æ ¼å¼åŒ–ä»£ç ` |
| **refactor** | é‡æ„ | `refactor(utils): ä¼˜åŒ–å·¥å…·å‡½æ•°` |
| **perf** | æ€§èƒ½ä¼˜åŒ– | `perf(db): æ·»åŠ æŸ¥è¯¢ç´¢å¼•` |
| **test** | æµ‹è¯• | `test(auth): æ·»åŠ ç™»å½•æµ‹è¯•` |
| **chore** | æ„å»º/å·¥å…· | `chore(deps): å‡çº§ä¾èµ–åŒ…` |
| **ci** | CI é…ç½® | `ci: æ·»åŠ è‡ªåŠ¨éƒ¨ç½²` |
| **revert** | å›é€€ | `revert: å›é€€ä¸Šæ¬¡æäº¤` |

---

## ğŸ¨ æäº¤æ¶ˆæ¯æ ¼å¼

### åŸºæœ¬æ ¼å¼

```
<ç±»å‹>(<èŒƒå›´>): <æè¿°>

<è¯¦ç»†è¯´æ˜>

ğŸ¤– Generated with Claude Code

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>
```

### ç¤ºä¾‹

#### ç¤ºä¾‹ 1ï¼šæ–°åŠŸèƒ½

```
feat(chart): æ·»åŠ  Kçº¿å›¾ç»„ä»¶

- é›†æˆ lightweight-charts åº“
- æ”¯æŒå®æ—¶æ•°æ®æ›´æ–°
- æ·»åŠ ç¼©æ”¾å’Œå¹³ç§»åŠŸèƒ½

ğŸ¤– Generated with Claude Code

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>
```

#### ç¤ºä¾‹ 2ï¼šBug ä¿®å¤

```
fix(api): ä¿®å¤æŒä»“æŸ¥è¯¢è¿”å› 500 é”™è¯¯

ä¿®å¤äº†å½“æŒä»“æ•°æ®ä¸ºç©ºæ—¶å¯¼è‡´çš„æŸ¥è¯¢é”™è¯¯

ğŸ¤– Generated with Claude Code

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>
```

#### ç¤ºä¾‹ 3ï¼šä¾èµ–æ›´æ–°

```
chore(deps): å‡çº§ Next.js åˆ° 15.1.6

ğŸ¤– Generated with Claude Code

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>
```

---

## ğŸ“– å¸¸ç”¨èŒƒå›´

é’ˆå¯¹ QuantFu é¡¹ç›®çš„å¸¸ç”¨èŒƒå›´ï¼š

### å‰ç«¯
- `ui` - UI ç»„ä»¶
- `chart` - å›¾è¡¨ç›¸å…³
- `page` - é¡µé¢
- `layout` - å¸ƒå±€
- `hooks` - React Hooks
- `utils` - å·¥å…·å‡½æ•°

### åç«¯
- `api` - API æ¥å£
- `db` - æ•°æ®åº“
- `auth` - è®¤è¯æˆæƒ
- `tqsdk` - å¤©å‹¤ SDK
- `websocket` - WebSocket

### é€šç”¨
- `deps` - ä¾èµ–åŒ…
- `env` - ç¯å¢ƒé…ç½®
- `docker` - Docker é…ç½®
- `ci` - CI/CD
- `docs` - æ–‡æ¡£

---

## ğŸ”§ AI è‡ªåŠ¨æäº¤æµç¨‹

### ä»»åŠ¡å®Œæˆåçš„æ ‡å‡†æµç¨‹

```bash
# 1. å®Œæˆä»£ç å¼€å‘
# ... ç¼–å†™ä»£ç  ...

# 2. è¿è¡Œæ£€æŸ¥
make check                    # æ£€æŸ¥ç¯å¢ƒ
cd frontend && npm run lint   # å‰ç«¯ lint
cd backend && uv run pytest   # åç«¯æµ‹è¯•

# 3. æäº¤ä»£ç 
make commit                   # äº¤äº’å¼æäº¤
# æˆ–
make quick-commit            # å¿«é€Ÿæäº¤

# 4. å‘é€é€šçŸ¥
ntfy send ntfy.zmddg.com/claude "ä»»åŠ¡å®Œæˆ: xxx - å·²æäº¤"
```

### AI åŠ©æ‰‹è‡ªåŠ¨åŒ–

ä½œä¸º AI åŠ©æ‰‹ï¼Œåœ¨å®Œæˆä»»åŠ¡åæˆ‘ä¼šï¼š

1. **è‡ªåŠ¨è¿è¡Œæ£€æŸ¥**
   ```bash
   make check
   ```

2. **æ‰§è¡Œæäº¤**
   - ä¼˜å…ˆä½¿ç”¨ `make quick-commit`
   - æˆ–ä½¿ç”¨è„šæœ¬å‚æ•°ï¼š
     ```bash
     ./scripts/quick-commit.sh -t feat -m "å®Œæˆ XXX åŠŸèƒ½"
     ```

3. **å‘é€é€šçŸ¥**
   ```bash
   ntfy send ntfy.zmddg.com/claude "ä»»åŠ¡å®Œæˆ: ..."
   ```

---

## ğŸ’¡ æœ€ä½³å®è·µ

### âœ… æ¨èåšæ³•

1. **å°æ­¥æäº¤**
   - æ¯å®Œæˆä¸€ä¸ªå°åŠŸèƒ½å°±æäº¤
   - æäº¤ç²’åº¦ï¼š1ä¸ªåŠŸèƒ½ç‚¹ = 1æ¬¡æäº¤
   - é¿å…ä¸€æ¬¡æäº¤åŒ…å«å¤šä¸ªä¸ç›¸å…³çš„æ”¹åŠ¨

2. **æ¸…æ™°çš„æè¿°**
   - ç”¨ä¸€å¥è¯è¯´æ˜åšäº†ä»€ä¹ˆ
   - æè¿°åº”è¯¥å›ç­”"ä¸ºä»€ä¹ˆ"ï¼Œè€Œä¸æ˜¯"æ€ä¹ˆåš"
   - ä½¿ç”¨ä¸­æ–‡æè¿°ï¼ˆå›¢é˜Ÿä¹ æƒ¯ï¼‰

3. **éµå¾ªè§„èŒƒ**
   - ä½¿ç”¨è§„å®šçš„ç±»å‹
   - æ·»åŠ åˆé€‚çš„èŒƒå›´
   - ä¿æŒæ ¼å¼ä¸€è‡´

4. **æäº¤å‰æ£€æŸ¥**
   - è¿è¡Œ `git status` æŸ¥çœ‹æ›´æ”¹
   - è¿è¡Œ `git diff` æŸ¥çœ‹å·®å¼‚
   - ç¡®ä¿æµ‹è¯•é€šè¿‡
   - ç¡®ä¿ lint é€šè¿‡

### âŒ é¿å…çš„åšæ³•

1. **âŒ å¤§æ‰¹é‡æäº¤**
   ```bash
   # ä¸å¥½
   git commit -m "update"  # åŒ…å«10ä¸ªæ–‡ä»¶çš„æ›´æ”¹
   ```

2. **âŒ æ— æ„ä¹‰çš„æè¿°**
   ```bash
   # ä¸å¥½
   git commit -m "fix bug"
   git commit -m "update"
   git commit -m "ä¿®æ”¹"
   ```

3. **âŒ æäº¤æ•æ„Ÿä¿¡æ¯**
   ```bash
   # å±é™©ï¼
   git add .env
   git add credentials.json
   ```

4. **âŒ æäº¤ä¸´æ—¶æ–‡ä»¶**
   ```bash
   # ä¸å¥½
   git add *.log
   git add .DS_Store
   git add node_modules/
   ```

---

## ğŸ› ï¸ å·¥å…·è¯´æ˜

### äº¤äº’å¼æäº¤è„šæœ¬

**ä½ç½®**: `scripts/git-commit.sh`

**åŠŸèƒ½**:
- å®Œæ•´çš„äº¤äº’å¼å‘å¯¼
- è‡ªåŠ¨æ·»åŠ  AI æ ‡è¯†
- æ”¯æŒè¯¦ç»†æè¿°
- é¢„è§ˆç¡®è®¤
- å¯é€‰æ¨é€

### å¿«é€Ÿæäº¤è„šæœ¬

**ä½ç½®**: `scripts/quick-commit.sh`

**åŠŸèƒ½**:
- ç®€åŒ–çš„æäº¤æµç¨‹
- æ”¯æŒå‘½ä»¤è¡Œå‚æ•°
- å¿«é€Ÿé€‰æ‹©ç±»å‹
- è‡ªåŠ¨æ·»åŠ æ‰€æœ‰æ›´æ”¹

---

## ğŸ” æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: æäº¤å¤±è´¥

**ç—‡çŠ¶**: `git commit` å¤±è´¥

**å¯èƒ½åŸå› **:
- Pre-commit hook å¤±è´¥ï¼ˆlint é”™è¯¯ï¼‰
- æ²¡æœ‰æ·»åŠ æ–‡ä»¶ï¼ˆ`git add`ï¼‰
- æäº¤æ¶ˆæ¯æ ¼å¼é”™è¯¯

**è§£å†³**:
```bash
# æŸ¥çœ‹é”™è¯¯ä¿¡æ¯
git status

# è¿è¡Œ lint ä¿®å¤
cd frontend && npm run lint --fix

# é‡æ–°æäº¤
make commit
```

### é—®é¢˜ 2: è„šæœ¬æ— æ‰§è¡Œæƒé™

**ç—‡çŠ¶**: `Permission denied`

**è§£å†³**:
```bash
chmod +x scripts/git-commit.sh
chmod +x scripts/quick-commit.sh
```

### é—®é¢˜ 3: æäº¤äº†ä¸è¯¥æäº¤çš„æ–‡ä»¶

**è§£å†³**:
```bash
# æ’¤é”€æœ€åä¸€æ¬¡æäº¤ï¼Œä¿ç•™æ›´æ”¹
git reset --soft HEAD~1

# é‡æ–°æ·»åŠ æ­£ç¡®çš„æ–‡ä»¶
git add æ­£ç¡®çš„æ–‡ä»¶
make commit
```

---

## ğŸ“š ç›¸å…³èµ„æº

- [Conventional Commits è§„èŒƒ](https://www.conventionalcommits.org/)
- [Git å·¥ä½œæµæ–‡æ¡£](.claude/core/git-workflow.md)
- [é¡¹ç›®å¼€å‘è§„èŒƒ](.claude/CLAUDE.md)

---

## ğŸ“ ç¤ºä¾‹åœºæ™¯

### åœºæ™¯ 1: å®Œæˆæ–°åŠŸèƒ½

```bash
# å¼€å‘å®Œæˆå
make check                    # æ£€æŸ¥ç¯å¢ƒ
cd frontend && npm run lint   # ä»£ç æ£€æŸ¥
cd frontend && npm test       # è¿è¡Œæµ‹è¯•

# æäº¤
make commit
# é€‰æ‹©: feat
# èŒƒå›´: chart
# æè¿°: æ·»åŠ  Kçº¿å›¾å®æ—¶æ›´æ–°åŠŸèƒ½
# è¯¦ç»†: é›†æˆ lightweight-chartsï¼Œæ”¯æŒå®æ—¶æ•°æ®æ¨é€

# å‘é€é€šçŸ¥
ntfy send ntfy.zmddg.com/claude "ä»»åŠ¡å®Œæˆ: Kçº¿å›¾å®æ—¶æ›´æ–°åŠŸèƒ½å·²å®Œæˆå¹¶æäº¤"
```

### åœºæ™¯ 2: ä¿®å¤ Bug

```bash
# ä¿®å¤å®Œæˆ
make check
cd backend && uv run pytest  # æµ‹è¯•é€šè¿‡

# å¿«é€Ÿæäº¤
make quick-commit
# é€‰æ‹©: 2 (fix)
# æè¿°: ä¿®å¤æŒä»“æŸ¥è¯¢ç©ºæ•°æ®é”™è¯¯

# å‘é€é€šçŸ¥
ntfy send ntfy.zmddg.com/claude "Bug ä¿®å¤å®Œæˆå¹¶æäº¤"
```

### åœºæ™¯ 3: æ›´æ–°ä¾èµ–

```bash
# å®‰è£…æ–°ä¾èµ–
cd frontend && npm install recharts

# å¿«é€Ÿæäº¤
./scripts/quick-commit.sh -t chore -s deps -m "æ·»åŠ  recharts å›¾è¡¨åº“"

# å‘é€é€šçŸ¥
ntfy send ntfy.zmddg.com/claude "ä¾èµ–æ›´æ–°å®Œæˆ"
```

---

**æœ€åæ›´æ–°**: 2025-12-23
**ç»´æŠ¤è€…**: allen + AI
